01	-- Experimento 08 - TESTBENCH Q2
02	-- Aluno: Pedro Henrique Dias Avelar 241037112
03	-- Turma 08
04	-- Data: 05/02/2025
05	
06	-- Testbench - Tempo de simulação: 1110 NS
07	
08	LIBRARY IEEE;
09	USE IEEE.STD_LOGIC_1164.ALL;
10	USE IEEE.STD_LOGIC_UNSIGNED.ALL;
11	USE IEEE.NUMERIC_STD.ALL;
12	USE WORK.TYPE_ESTADO_BCD.ALL;
13	
14	ENTITY TESTBENCH_E08_BCD_MOD100 IS
15	END TESTBENCH_E08_BCD_MOD100;
16	
17	ARCHITECTURE ARC_TESTBENCH_E08_BCD_MOD100 OF TESTBENCH_E08_BCD_MOD100 IS
18	
19	COMPONENT CONTADOR_BCD_MOD100 IS
20	    PORT (
21	        CLOCK: IN STD_LOGIC;
22	        RESET: IN STD_LOGIC;
23	        ENABLE: IN STD_LOGIC;
24	        D_UNIDADE: IN STD_LOGIC_VECTOR(3 DOWNTO 0);
25	        D_DEZENA: IN STD_LOGIC_VECTOR(3 DOWNTO 0);
26	        LOAD: IN STD_LOGIC;
27	        Q_UNIDADE: OUT STD_LOGIC_VECTOR(3 DOWNTO 0);
28	        Q_DEZENA: OUT STD_LOGIC_VECTOR(3 DOWNTO 0);
29	        CURRENT_STATE_UNIDADE: OUT ESTADO_BCD;
30	        CURRENT_STATE_DEZENA: OUT ESTADO_BCD
31	        );
32	END COMPONENT;
33	
34	SIGNAL CLOCK_TB: STD_LOGIC := '0';
35	SIGNAL RESET_TB, ENABLE_TB, LOAD_TB: STD_LOGIC;
36	SIGNAL D_UNIDADE_TB, D_DEZENA_TB: STD_LOGIC_VECTOR(3 DOWNTO 0);
37	SIGNAL Q_UNIDADE_TB, Q_DEZENA_TB: STD_LOGIC_VECTOR(3 DOWNTO 0);
38	SIGNAL CURRENT_STATE_UNIDADE_TB, CURRENT_STATE_DEZENA_TB: ESTADO_BCD;
39	
40	BEGIN
41	    DUT: CONTADOR_BCD_MOD100 PORT MAP (
42	        CLOCK_TB, RESET_TB, ENABLE_TB,D_UNIDADE_TB, D_DEZENA_TB,
43	        LOAD_TB, Q_UNIDADE_TB, Q_DEZENA_TB, CURRENT_STATE_UNIDADE_TB, CURRENT_STATE_DEZENA_TB
44	    );
45	    CLOCK_TB <= NOT CLOCK_TB AFTER 5 NS;
46	    PROCESS
47	    BEGIN
48	    REPORT "INICIANDO TESTE..." SEVERITY NOTE;
49	    -- CENARIO 1: CONTAR DE 0 A 99;
50	    RESET_TB <= '0'; LOAD_TB <= '0'; ENABLE_TB <= '0';
51	    WAIT FOR 990 NS;
        -- CENARIO 2: LOAD DOS NUMEROS 19, 28, 37, 46, 55, 64, 73, 82, 91
        RESET_TB <= '1'; LOAD_TB <= '1';
        D_DEZENA_TB <= "0001"; D_UNIDADE_TB <= "1001"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "0010"; D_UNIDADE_TB <= "1000"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "0011"; D_UNIDADE_TB <= "0111"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "0100"; D_UNIDADE_TB <= "0110"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "0101"; D_UNIDADE_TB <= "0101"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "0110"; D_UNIDADE_TB <= "0100"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "0111"; D_UNIDADE_TB <= "0011"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "1000"; D_UNIDADE_TB <= "0010"; WAIT FOR 10 NS;
        D_DEZENA_TB <= "1001"; D_UNIDADE_TB <= "0001"; WAIT FOR 10 NS;
        -- CENARIO 3: COM A ENTRADA LOAD ATIVA, ATIVAR RESET
        RESET_TB <= '1'; WAIT FOR 30 NS;
52	    REPORT "TESTE FINALIZADO!" SEVERITY NOTE;
53	    WAIT;
54	    END PROCESS;
55	END ARC_TESTBENCH_E08_BCD_MOD100;
